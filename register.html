<!DOCTYPE html>
<html style="font-size: 16px;">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <title>Registration</title>
    <link rel="stylesheet" href="project.css" media="screen">
    <link rel="stylesheet" href="Home.css" media="screen">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" media="screen">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- <script class="u-script" type="text/javascript" src="jquery.js" defer=""></script> -->
    <script class="u-script" type="text/javascript" src="project.js" defer=""></script>
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i">
    <link id="u-page-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700,700i|Lato:100,100i,300,300i,400,400i,700,700i,900,900i|Oswald:200,300,400,500,600,700">
  </head>

  <body class="u-body"><header class="u-clearfix u-header u-header" id="sec-9f38"><div class="u-clearfix u-sheet u-sheet-1">
          <img src="images/logo_img.jpg" class="u-logo-image u-logo-image-1">
        </a>
        <nav class="u-menu u-menu-dropdown u-offcanvas u-menu-1">
          <div class="menu-collapse" style="font-size: 1rem; letter-spacing: 0px;">
            <a class="u-button-style u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-top-bottom-menu-spacing u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="#">
              <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#menu-hamburger"></use></svg>
              <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><symbol id="menu-hamburger" viewBox="0 0 16 16" style="width: 16px; height: 16px;"><rect y="1" width="16" height="2"></rect><rect y="7" width="16" height="2"></rect><rect y="13" width="16" height="2"></rect>
</symbol>
</defs></svg>
            </a>
          </div>
          <div class="u-nav-container">
            <ul class="u-nav u-unstyled u-nav-1">
            <li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="Home.html" style="padding: 10px 20px;">Home</a></li>
            <li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="Home.html#about" style="padding: 10px 20px;">About Us</a></li>
            <li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="Home.html#contact" style="padding: 10px 20px;">Contact Us</a></li>
            <li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="login.html" style="padding: 10px 20px;">Login</a></li>
            <li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="register.html" style="padding: 10px 20px;">Register</a></li>
          </ul>
          </div>
          <div class="u-nav-container-collapse">
            <div class="u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
              <div class="u-sidenav-overflow">
                <div class="u-menu-close"></div>
                <ul class="u-align-center u-nav u-popupmenu-items u-unstyled u-nav-2">
                  <li class="u-nav-item"><a class="u-button-style u-nav-link" href="Home.html">Home</a></li>
                  <li class="u-nav-item"><a class="u-button-style u-nav-link" href="Home.html#about">About Us</a></li>
                  <li class="u-nav-item"><a class="u-button-style u-nav-link" href="Home.html#contact">Contact Us</a></li>
                  <li class="u-nav-item"><a class="u-button-style u-nav-link" href="login.html">Login</a></li>
                  <li class="u-nav-item"><a class="u-button-style u-nav-link" href="register.html">Register</a></li>
                </ul>
              </div>
            </div>
            <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
          </div>
        </nav>
      </div></header>
    <section class="u-clearfix u-image u-valign-middle-lg u-section-1" id="carousel_8865">
      <div class="u-clearfix u-layout-wrap u-layout-wrap-1">
        <div class="u-layout">
          <div class="u-layout-row">
            <div class="u-align-left u-container-style u-layout-cell u-left-cell u-size-26 u-layout-cell-2">
              <div class="u-container-layout u-container-layout-2">
                <div class="container">
                    <div class="title">REGISTER HERE</div>
                    <div class="content">
                      <form action="#">
                        <br>
                        <div class="account-details">
                          <span class="details">Choose an account type</span>
                          <br>
                          <label class="radio">
                            <span class="radio__input">
                              <input type="radio" name="user_type" value="DOCTOR" />
                              <span class="radio__control"></span>
                            </span>
                            <span class="radio__label">
                              Doctor 
                              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            </span>
                          </label>

                          <label class="radio">
                            <span class="radio__input">
                              <input type="radio" name="user_type" value="PATIENT" />
                              <span class="radio__control"></span>
                            </span>
                            <span class="radio__label">Patient</span>
                          </label>
                        </div>
                        <br>

                        <div class="user-details">
                            
                          <div class="input-box">
                            <span class="details">Full Name</span>
                            <input type="text" placeholder="Enter your name" name="full_name" required>
                          </div>
                          <div class="input-box">
                            <span class="details">Username</span>
                            <input type="text" placeholder="Enter your username" name="user_name" required>
                          </div>
                          <div class="input-box">
                            <span class="details">Email</span>
                            <input type="text" placeholder="Enter your email" name="email" required>
                          </div>
                          <div class="input-box">
                            <span class="details">Phone Number</span>
                            <input type="text" placeholder="Enter your number" name="phone"  required>
                          </div>
                          <div class="input-box">
                            <span class="details">Password</span>
                            <input type="password" placeholder="Enter your password" name="password" required>
                          </div>
                          <div class="input-box">
                            <span class="details">Confirm Password</span>
                            <input type="password" placeholder="Confirm your password" name="confirm_password" required>
                          </div>
                        </div>

                        <div class="gender-details">
                          <span class="details">Gender</span>
                          <br>
                          <label class="radio">
                            <span class="radio__input">
                              <input type="radio" name="gender" value="Male" />
                              <span class="radio__control"></span>
                            </span>
                            <span class="radio__label"> Male &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                          </label>

                          <label class="radio">
                            <span class="radio__input">
                              <input type="radio" name="gender" value="Female" />
                              <span class="radio__control"></span>
                            </span>
                            <span class="radio__label"> Female &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                          </label>

                          <label class="radio">
                            <span class="radio__input">
                              <input type="radio" name="gender" value="Not Specified" />
                              <span class="radio__control"></span>
                            </span>
                            <span class="radio__label">Prefer Not to Say</span>
                          </label>
                        </div>
                        <div class="button">
                          <input type="submit" value="REGISTER" id="registration">
                        </div>
                      </form>
                    </div>
                  </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    
    <section class="u-backlink u-clearfix u-grey-80">
      <p class="u-text">
        <span>Copyright © 2021 All Rights Reserved by Team MEDIcare.</span>
      </p> 
    </section>
    <script>
      $('#registration').click((event) => {
        event.preventDefault()
        let payload = {
          user_type : $('input[name="user_type"]:checked').val(),
          full_name : $('input[name="full_name"]').val(),
          user_name : $('input[name="user_name"]').val(),
          phone : $('input[name="phone"]').val(),
          email : $('input[name="email"]').val(),
          password : $('input[name="password"]').val(),
          confirm_password : $('input[name="confirm_password"]').val(),
          gender : $('input[name="gender"]:checked').val(),   
        }
        var request = $.ajax({
          url: "http://127.0.0.1:8000/api/register",
          method: "POST",
          data: payload,
        });
        
        request.done(function( response ) {
          window.location.href = 'login.html'
          console.log(response);
           
        });
        
        request.fail(function( jqXHR, textStatus ) {
          let error = JSON.parse(jqXHR.responseText);
          error.message.forEach(element => {
              $('#message-section').append('<li>'+element+'</li>');
          });
        });
      });
  </script>
  </body>
</html>